{% extends 'base.html.twig' %}

{% block title %}Basket Page{% endblock %}

{% block body %}

    {% include '/partials/header.twig.html.twig' %}
    <div class="basket-page">

        <div class="my-basket">
            <h1> Mon panier </h1>
            {% if basketProducts != null %}
            <a href="/basket/clear/{{ basketProducts[0].basket.id }}" class="basket-clear"> x Vider le panier</a>
            {% endif %}

            {% for basketProduct in basketProducts %}
            <div class="basket-item">
                <img src="{{ asset('images/products/' ~ basketProduct.product.imgSrc) }}" alt="Photo de {{basketProduct.product.name}}" />
                <div class="basket-item-text">
                    <h2> {{ basketProduct.product.name }} </h2>
                    <h3> Quantité: {{  basketProduct.quantity }}</h3>
                    <h4> {{ basketProduct.subTotal }}€ </h4>
                </div>
            </div>
            {% endfor %}
            {% if basketProducts|length == 0 %}
                <div class="basket-item-text">
                    <h3> Votre panier est vide </h3>
                </div>
            {% endif %}
            <div class="basket-total">
                <div>
                    <h2> Total panier : <span class="basket-amount">{% if basketProducts != null %} {{ basketProducts[0].basket.total }} {% else %} 0 {% endif %}€</span></h2>
                    <h4> Frais de livraison: Offert</h4>
                </div>
            </div>

            <a href="#" class="main-button"> Valider la commande </a>
        </div>


    </div>
    {% include '/partials/footer.twig.html.twig' %}
{% endblock %}
